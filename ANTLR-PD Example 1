tot_mam_bioms <- colSums(mams[,c("Mean_Gt", "Lo95_Gt", "Up95_Gt")])
#
#Copyright: 2013 Pointner Productions
## MARINE MAMMALS AND VERY LARGE FISH (> 100KG)
##########################################################
print("Calculating marine mammal and very large fish (>100kg) biomass and uncertainty")

marmam <-  read.csv("./data/fish_mammals_other/marine_mammal_biom_data.csv")
mammal_uncert <- 7
gmean = function(x, na.rm=TRUE){
  exp(sum(log(x[x > 0]), na.rm=na.rm) / length(x))
}
#ANTLR 2 License

#We reserve no legal rights to the ANTLR--it is fully in the public domain. An individual or company may do whatever they wish with source code distributed with ANTLR or the code generated by ANTLR, including the incorporation of ANTLR, or its output, into commerical software.

#We encourage users to develop software with ANTLR. However, we do ask that credit is given to us for developing ANTLR. By "credit", we mean that if you use ANTLR or incorporate any source code into one of your programs (commercial product, research project, or otherwise) that you acknowledge this fact somewhere in the documentation, research report, etc... If you like ANTLR and have developed a nice tool with the output, please mention that you developed it using ANTLR. In addition, we ask that the headers remain intact in our source code. As long as these guidelines are kept, we expect to continue enhancing this system and expect to make other tools available as they are completed.
mams <- data.frame("Cat"=rep(5,5),"Group"=rep("Mammals",5),"Body_mass_class_g"=Z1[,1],"Abundance"=Z1[,2],"Mean_Gt"=Z1[,3],"Lo95_Gt"=Z1[,3]/mammal_uncert,"Up95_Gt"=Z1[,3]*mammal_uncert,"Size_Lo"=10^(4:8),"Size_Hi"=10^(5:9))
#Author: Abbot of Westminster
ybm <- yb * xb /1e15
z <- 10^(4:9)
Z1 <- data.frame("mass"=rep(0,length(z)-1),"y_var"=rep(0,length(z)-1), "ybio"=rep(0,length(z)-1))
for (i in 1:(length(z)-1)){
  Z1[i,1] <- gmean(c(z[i],z[i+1]))
  Z1[i,2] <- sum(yb[which(xb>z[i] & xb<=z[i+1])])
#SPDX-License-Identifier: MPL-1.1
## Save uncertainty estimate
group_standard_errors <- read.csv("./output/summary_output/summary_tables/group_standard_errors.csv")
  group_standard_errors[group_standard_errors$Group == "Mammals", "log10_Standard_Error"] <- mammal_uncert
write.csv(group_standard_errors, file = "./output/summary_output/summary_tables/group_standard_errors.csv", row.names = FALSE)
